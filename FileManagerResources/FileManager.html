<!DOCTYPE html>
<html>
<body>

<div id="demo"> <h1>File Manager Application</h1></div>
<style>
#buttons { 
     display: inline-block;
}
#fileFourm { 
     display: inline-block;
}
</style>

<div id="fileForum">
	<form>
	  File Name:<br>
	  	<input id="fileName" type="text">
	  <br>
	  Body:<br>
	  	<input id="body" type="text">
	</form>
</div>
<br>
<div id="buttons">
	<button type="button" onclick="getFile()">Get File</button>
	<button type="button" onclick="deleteFile()">Delete</button>
	<button type="button" onclick="createFile()">Create New</button>
	<button type="button" onclick="appendToFile()">Append</button>
	<button type="button" onclick="getAllFiles()">Get All Files</button>
</div>

<script>
function getFile() {
	var fileName = document.getElementById("fileName").value;
	var json = convertToJson(fileName,body);
  	var xhttp = new XMLHttpRequest();
  	xhttp.onreadystatechange = function() {
    	if (xhttp.readyState == 4 && xhttp.status == 200) {
      		document.getElementById("demo").innerHTML = xhttp.responseText;
    	}
  	}
  	xhttp.open("GET", "file", true);
  	xhttp.send();
}

function createFile() {
	var fileName = document.getElementById("fileName").value;
	var body = document.getElementById("body").value;
	var json = convertToJson(fileName,body);
  	var xhttp = new XMLHttpRequest();
  	xhttp.onreadystatechange = function() {
    	if (xhttp.readyState == 4 && xhttp.status == 200) {
     		document.getElementById("demo").innerHTML = xhttp.responseText;
    	}
  	}
  	xhttp.open("POST", "createNew", true);
  	xhttp.send();
}
function deleteFile() {
	var fileName = document.getElementById("fileName").value;
	var json = convertToJson(fileName,body);
	var xhttp = new XMLHttpRequest();
  	xhttp.onreadystatechange = function() {
    	if (xhttp.readyState == 4 && xhttp.status == 200) {
      		document.getElementById("demo").innerHTML = xhttp.responseText;
    	}
  	}
  	xhttp.open("DELETE", "delete", true);
  	xhttp.send();
}
function appendToFile() {
	var fileName = document.getElementById("fileName").value;
	var body = document.getElementById("body").value;
	var json = convertToJson(fileName,body);
	var xhttp = new XMLHttpRequest();
  	xhttp.onreadystatechange = function() {
    	if (xhttp.readyState == 4 && xhttp.status == 200) {
      		document.getElementById("demo").innerHTML = xhttp.responseText;
    	}
  	}
  	xhttp.open("PUT", "appendToFile", true);
  	xhttp.send();
}
function getAllFiles() {
  	var xhttp = new XMLHttpRequest();
  	xhttp.onreadystatechange = function() {
    	if (xhttp.readyState == 4 && xhttp.status == 200) {
      	document.getElementById("demo").innerHTML = xhttp.responseText;
    	}
  	}
  	xhttp.open("GET", "getAllFiles", true);
  	xhttp.send();
}

function convertToJson(fileName, body) {
	var json = [];
	var file = {
		"fileName": fileName,
		"body": body
	};
	json.push(file);
	return json;
}	

</script>


</body>
</html>